#!/usr/bin/env bash

# git add .  
# git commit -m 'testing'
# git push -f
# curl -L is.gd/arcrisnew > arcris ; sh arcris 

    echo "" 
    welcome_title=" -| Language Select |- "
    setfont
    export LANG=C
    LANG=$(dialog --nocancel --backtitle "Welcome : $(date -u "+%F %H:%M")" --title "${welcome_title}" \
    --menu "\nDonations in: www.patreon.com/codigocristo\n\nSelect your install language:\n " 14 60 10 \
        "1" "Español" \
        "2" "English" \
        "3" "Russian" 3>&1 1>&2 2>&3)

    case "$LANG" in

        "1") 
        source languages/español.conf
        echo "$LANGUAGE UTF-8" > /etc/locale.gen
        locale=$(locale-gen)
        dialog --backtitle "$titulo" \
        --title "${idiom}" --stdout --ok-label "${oklabel}" \
        --infobox "$locale" 20 150
        echo "LANG=$LANGUAGE" > /etc/locale.conf
        export LANG=$LANGUAGE
        ;;

        "2") 
        source languages/english.conf
        echo "$LANGUAGE UTF-8" > /etc/locale.gen
        locale=$(locale-gen)
        dialog --backtitle "$titulo" \
        --title "${idiom}" --stdout --ok-label "${oklabel}" \
        --infobox "$locale" 20 150
        echo "LANG=$LANGUAGE" > /etc/locale.conf
        export LANG=$LANGUAGE
        ;;

        "3")
        # vconsole.conf 
        # FONT="cyr-sun16"
        # ls /usr/share/consolefonts
        # ls /usr/share/kbd/consolefonts | grep 8x16
        # setfont cyr-sun16
        # showconsolefont
        source languages/russian.conf
        echo "$LANGUAGE UTF-8" > /etc/locale.gen
        locale=$(locale-gen)
        dialog --backtitle "$titulo" \
        --title "${idiom}" --stdout --ok-label "${oklabel}" \
        --infobox "$locale" 20 150
        echo "LANG=$LANGUAGE" > /etc/locale.conf
        export LANG=$LANGUAGE
        setfont cyr-sun16
        ;;

    esac



main () {

while true; do
menuprincipal=$(dialog --keep-tite --backtitle "${title}" --title "${title_menu}" \
--ok-label "${select_ok_label}" --nocancel --column-separator "|" --no-tags \
--menu "${text_menu}" 22 80 11 \
1 "1 USERS | Establecer Datos Personales" \
2 "2 TIMEZONE | Establecer la zona horaria del sistema" \
3 "3 LANGUAGE | Establecer el idioma del sistema" \
4 "4 SHELL | Establece la shell del sistema" \
5 "5 DISK | Particionar la unidad de instalación" \
6 "6 KERNEL | Establecer el kernel del sistema" \
7 "7 DRIVER VIDEO | Establecer el driver de video del sistema" \
8 "8 (DE) or (WM) | Establecer un Escritorio o Gestor de Ventanas" \
9 "9 EXTRA PROGRAMS | Selecciona programas extras - [ OPCIONAL ]" \
10 "> INSTALL | Instalar Arch Linux" \
11 "> EXIT | Salir del Script ArcriS" 3>&1 1>&2 2>&3)

case "$menuprincipal" in
"1")

;;

"2") 

;;


"3")

;;

"4") 

;;

"5")

;;

"6")

;;

"7")

;;

"8")

;;

"9")

;;

"10")

;;

"11")
cd 
rm -r arcris arcrisnew-main arcrisnew-main.tar.gz
clear && echo "" 
echo -e ""
echo -e "${msg_end}"
printf '%*s\n' "${COLUMNS:-$(tput cols)}" '' | tr ' ' _
echo -e ""
echo "" && sleep 3 && exit
;;

    esac
done


}


main
